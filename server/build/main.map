{"version":3,"sources":["webpack:///webpack/bootstrap fd0ce16b01483bb19300","webpack:///external \"express\"","webpack:///./server/index.js","webpack:///./server/middlewares.js","webpack:///external \"serve-favicon\"","webpack:///external \"body-parser\"","webpack:///./server/config.js","webpack:///./server/routes.js"],"names":["app","express","host","process","env","HOST","port","PORT","set","middlewares","listen","console","log","use","static","config","static_dir","root","favicon","bodyParser","json","req","res","next","header","routes","body","undefined","status","data","err","message","name","version","server","router","Router","users","get","id","parseInt","params","length","Error","route"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fd0ce16b01483bb19300","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","'use strict'\n\nimport express from 'express'\nimport middlewares from './middlewares'\n\nconst app = express()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3030\n\napp.set('port', port)\n\nmiddlewares(app)\n\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","'use strict'\n\nimport express from 'express'\nimport favicon from 'serve-favicon'\nimport bodyParser from 'body-parser'\nimport config from './config'\nimport routes from './routes'\n\nexport default app => {\n  app.use(express.static(config.static_dir.root))\n  app.use(favicon(config.static_dir.root + '/favicon.ico'))\n  app.use(bodyParser.json())\n\n  app.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', 'http://localhost:3000')\n    res.header('Access-Control-Allow-Credentials', true)\n    res.header(\n      'Access-Control-Allow-Headers',\n      'Origin, X-Requested-With, Content-Type, Accept'\n    )\n    next()\n  })\n\n  app.use('/', routes())\n\n  app.use((req, res, next) => {\n    if (res.body !== undefined) {\n      res.body = {\n        status: 200,\n        data: res.body\n      }\n      res.json(res.body)\n    } else {\n      next()\n    }\n  })\n\n  app.use((err, req, res, next) => {\n    res.body = {\n      status: err.status,\n      message: err.message\n    }\n    res.status(err.status || 500)\n    res.json(res.body)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 4\n// module chunks = 0","'use strict'\n\nexport default {\n  app: {\n    name: 'Server',\n    version: '1.0.0'\n  },\n  server: {\n    port: 3030\n  },\n  static_dir: {\n    root: './static'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/config.js","'use strict'\n\nimport { Router } from 'express'\n\nconst router = Router()\n\n// Mocks\nconst users = [\n  { name: 'Mateusz-1' },\n  { name: 'Mateusz-2' },\n  { name: 'Mateusz-3' }\n]\n\nexport default () => {\n  // Get all users.\n  router.get('/users', (req, res, next) => {\n    res.body = users\n    next()\n  })\n\n  // Get the user by id.\n  router.get('/users/:id', (req, res, next) => {\n    const id = parseInt(req.params.id)\n    \n    if (id >= 0 && id < users.length) {\n      res.body = users[id]\n      next()\n    } else {\n      const err = new Error('User Not Found')\n      err.status = 400\n      next(err)\n    }\n  })\n\n  // Handle routes not found.\n  router.use(function(req, res, next) {\n    if (!req.route) {\n      const err = new Error('Route Not Found')\n      err.status = 404\n      return next(err)\n    }\n    next()\n  })\n\n  return router\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js"],"sourceRoot":""}